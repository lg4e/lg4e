{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h1 class="mb-4">{{ title }}</h1>
    <ul class="mt-3">
        {% for part_id, part in parts.items() %}
        <li style="list-style: none;">
            <strong>■ Part {{ part_id }}: {{ part.title }}</strong>
            <ul class="mt-2">
                {% for chapter_id, chapter_data in part.chapters.items() %}
                <li style="list-style: none;">
                    <!-- 修改章节链接 -->
                    <a href="{{ url_for('chapter', card_slug=card_slug, chapter_id=chapter_id) }}">
                        ◆ Chapter {{ chapter_id }}: {{ chapter_data.title if chapter_data.title else chapter_data }}
                    </a>
                    {% if chapter_data.sections %}
                    <ul class="mt-2">
                        {% for section_id, section_title in chapter_data.sections.items() %}
                        <li style="list-style: none;">
                            <!-- 修改小节链接 -->
                            <a href="{{ url_for('chapter', card_slug=card_slug, chapter_id=chapter_id) }}#section-{{ section_id }}">
                                □ {{ chapter_id }}.{{ section_id }}: {{ section_title }}
                            </a>
                        </li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </li>
                {% endfor %}
            </ul>
        </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}

